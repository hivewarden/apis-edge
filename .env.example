# APIS Development Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# SECRETS SOURCE
# =============================================================================
# Where to read secrets from: "openbao" (default) or "env" (fallback)
SECRETS_SOURCE=openbao

# =============================================================================
# OPENBAO CONFIGURATION
# =============================================================================
# For local isolated dev: use defaults (connects to local OpenBao in docker-compose)
# For external OpenBao: set these to your existing OpenBao instance
#
# Example for external OpenBao:
#   OPENBAO_ADDR=https://openbao.yourdomain.com:8200
#   OPENBAO_TOKEN=hvs.your-actual-token
#   OPENBAO_SECRET_PATH=secret/data/apis
#
OPENBAO_ADDR=http://openbao:8200
OPENBAO_TOKEN=apis-dev-token
OPENBAO_SECRET_PATH=secret/data/apis
OPENBAO_DEV_TOKEN=apis-dev-token

# =============================================================================
# FALLBACK: Direct Environment Variables
# =============================================================================
# Used when SECRETS_SOURCE=env or as fallback if OpenBao is unavailable
# For production, these should come from OpenBao instead

# Database (YugabyteDB)
# Note: YugabyteDB default password for users is 'yugabyte'
YSQL_USER=yugabyte
YSQL_PASSWORD=yugabyte
YSQL_DB=yugabyte

# Zitadel Identity Provider
# Note: Zitadel uses dedicated PostgreSQL due to stored procedure compatibility issues
# with YugabyteDB. See https://github.com/zitadel/zitadel/discussions/8840
# MASTERKEY must be EXACTLY 32 characters
ZITADEL_MASTERKEY=MasterkeyNeedsToHave32Chars!!!!!
ZITADEL_ADMIN_PASSWORD=Admin123!
# ZITADEL_CLIENT_ID is the application's client ID in Zitadel.
# This is required for JWT validation in the API server.
# Get this from Zitadel console after creating an application:
# Projects > Your Project > Applications > Your App > Client ID
ZITADEL_CLIENT_ID=
# VITE_ZITADEL_CLIENT_ID is the same client ID used by the frontend dashboard.
# Both should point to the same Zitadel application.
VITE_ZITADEL_CLIENT_ID=

# API Server
PORT=3000
